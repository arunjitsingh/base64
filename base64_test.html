<!DOCTYPE html>
<!--
 * Copyright 2011 Arunjit Singh. All Rights Reserved.
 * @fileoverview HTML test for base64 encoder and decoder.
 * @author: Arunjit Singh <arunjit@me.com>
 * @license: MIT license. This notice must be included in all distributions.
 *     @see: //LICENSE for details.
 *     @see: http://www.opensource.org/licenses/mit-license.php for details.
 -->
<html>
  <head>
    <meta charset="utf-8">
    <title>Base64 Test</title>
    <script src="base64.js"></script>
  </head>
  <output id="output"></output>
  <body>
    <script>

function stringToBytes(string) {
  return string.split('').map(
      function(s) {
        return s.charCodeAt(0);
      });
}

var testData = {};
testData.string = testData.decoded = 'Hello!!';
testData.buffer = new Uint8Array(stringToBytes(testData.string)).buffer;
testData.encoded = btoa(testData.string);


var encoded1 = base64.encode(testData.string, true);
var encoded2 = base64.encode(testData.buffer, true);

console.assert(encoded1 === encoded2,
              'String and Buffer should be encoded the same');
console.assert(encoded1 === testData.encoded, 'Encoding should work');


var decoded = base64.decode(testData.encoded, true);

console.assert(decoded === testData.decoded, 'Decoding should work');

    </script>
  </body>
</html>
